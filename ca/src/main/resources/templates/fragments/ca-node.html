<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<th:block th:fragment="renderNode(children)">
  <ul th:if="${children != null and !children.isEmpty()}">
    <li th:each="child : ${children}">
      <div class="ca-node" th:classappend="${child.children != null and !child.children.isEmpty()} ? 'has-children'">
        <span class="toggle-btn" onclick="toggleChildren(this)">â–¶</span>
        <strong th:text="${child.commonName}">Child Name</strong>
        <span th:text="${child.type}">Type</span>
      </div>
      <div class="children-wrapper">
        <div th:replace="~{fragments/ca-node :: renderNode(${child.children})}"></div>
      </div>
    </li>
  </ul>
</th:block>
</body>
</html>
